"use strict";(self["webpackChunkvue_losev_frontend"]=self["webpackChunkvue_losev_frontend"]||[]).push([[375],{375:function(s,t,e){e.r(t),e.d(t,{default:function(){return q}});var a=e(3396),i=e(7139),l=e(9242);const o=(0,a._)("div",{class:"page_title"},[(0,a._)("p",null," Категорії ")],-1),c={class:"all-categories-block"},r={class:"dropdown-container"},n={class:"dropdown"},d=(0,a._)("span",null,"Сортування:",-1),p=(0,a._)("span",{class:"left-bar"},null,-1),g=(0,a._)("span",{class:"right-bar"},null,-1),_=[p,g],h={class:"dropdown-content"},u={class:"dropdown"},f=(0,a._)("span",null,"Фільтр:",-1),w={class:"selected-item-filter"},y=(0,a._)("span",{class:"left-bar"},null,-1),v=(0,a._)("span",{class:"right-bar"},null,-1),b=[y,v],k={class:"dropdown-content dropdown-filter"},m={class:"categories-list-block"},P=["onClick"],C={class:"block-podcasts"},F={class:"title-category"},D={class:"block-of-podcasts-by-category"},T={class:"block_content_podcast"},z={class:"positions_in_block"},V={class:"upper_tittle"},B={class:"context"},H=(0,a._)("button",{class:"play-button","aria-label":"Play podcast"},[(0,a._)("svg",{class:"play-icon",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512"},[(0,a._)("path",{class:"play-path",d:"M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9V344c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z"})])],-1),N={class:"info_podcast"},S={class:"title_podcast"},Y={class:"author_podcast"},Z=(0,a._)("span",{class:"time_podcast"}," 55:15 ",-1),A={class:"under_title"},E={class:"rating_and_categories"},J={class:"podcast-rating"},O={class:"categories_podcast"},x=["onClick"];function I(s,t,e,p,g,y){return(0,a.wg)(),(0,a.iD)(a.HY,null,[o,(0,a._)("div",c,[(0,a._)("div",r,[(0,a._)("div",n,[d,(0,a._)("div",{class:"selected-item-name",onClick:t[0]||(t[0]=s=>y.toggleDropdown("name"))},[(0,a._)("span",null,(0,i.zw)(g.sortDisplayNames[g.sortType]),1),(0,a._)("a",{class:(0,i.C_)(["arrow-icon",{open:g.dropdowns.name}])},_,2)]),(0,a.wy)((0,a._)("div",h,[(0,a._)("a",{href:"#",onClick:t[1]||(t[1]=s=>y.sortPodcasts("default"))},"За замовчуванням"),(0,a._)("a",{href:"#",onClick:t[2]||(t[2]=s=>y.sortPodcasts("title"))},"За назвою"),(0,a._)("a",{href:"#",onClick:t[3]||(t[3]=s=>y.sortPodcasts("rating"))},"За популярністю")],512),[[l.F8,g.dropdowns.name]])]),(0,a._)("div",u,[f,(0,a._)("div",{class:"selected-item-category",onClick:t[4]||(t[4]=s=>y.toggleDropdown("filterPrice"))},[(0,a._)("span",w,(0,i.zw)(g.selectedFilterPrice),1),(0,a._)("a",{class:(0,i.C_)(["arrow-icon",{open:g.dropdowns.filterPrice}])},b,2)]),(0,a.wy)((0,a._)("div",k,[(0,a._)("a",{href:"#",onClick:t[5]||(t[5]=s=>y.filterByPriceType("all"))},"Всі подкасти"),(0,a._)("a",{href:"#",onClick:t[6]||(t[6]=s=>y.filterByPriceType("free"))},"Безкоштовні"),(0,a._)("a",{href:"#",onClick:t[7]||(t[7]=s=>y.filterByPriceType("paid"))},"Платні")],512),[[l.F8,g.dropdowns.filterPrice]])])]),(0,a._)("div",m,[(0,a._)("span",{onClick:t[8]||(t[8]=s=>y.filterPodcasts("all"))},"Всі подкасти"),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(g.allcategories,(s=>((0,a.wg)(),(0,a.iD)("span",{key:s.id,onClick:t=>y.filterPodcasts(s.name)},(0,i.zw)(s.name),9,P)))),128))])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(g.allcategories,(s=>((0,a.wg)(),(0,a.iD)("div",{class:"podcast-block-with-categories",key:s.id},[(0,a._)("div",C,[(0,a._)("div",F,[(0,a._)("p",null,[(0,a._)("span",null,(0,i.zw)(s.name),1)])]),(0,a._)("div",D,[(0,a._)("div",T,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(y.filteredPodcasts(s.name),(s=>(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{key:s.id,class:(0,i.C_)(["podcast",`id_${s.id}`]),style:(0,i.j5)({backgroundImage:`url(${s.image_url})`,backgroundRepeat:"no-repeat",backgroundPosition:"center"})},[(0,a._)("div",z,[(0,a._)("div",V,[(0,a._)("div",B,[H,(0,a._)("div",N,[(0,a._)("span",S,(0,i.zw)(y.truncateTitle(s.title)),1),(0,a._)("span",Y,(0,i.zw)(s.author),1)])]),Z]),(0,a._)("div",A,[(0,a._)("div",E,[(0,a._)("div",J,(0,i.zw)(s.rating),1),(0,a._)("span",O,(0,i.zw)(s.categories[0].name),1)]),(0,a._)("button",{class:(0,i.C_)(["heart-button",s.isFavorite?"active":""]),"aria-label":"favorite",onClick:t=>y.handleHeartButtonClick(s,t)},null,10,x)])])],6)),[[l.F8,s.isVisible]]))),128))])])])])))),128))],64)}var K=e(3258),$=e(5797),M=e.n($),R={name:"AllCategoriesPage",data(){return{podcasts:[],loading:!1,dropdowns:{name:!1,filterPrice:!1},sortType:"default",allcategories:[],selectedFilterPrice:"Всі подкасти",sortDisplayNames:{default:"За замовчуванням",title:"За назвою",rating:"За популярністю"},initialPodcasts:[],selectedCategory:"all"}},methods:{async handleHeartButtonClick(s,t){s.isFavorite=!s.isFavorite,console.log(s.isFavorite),t.target.classList.toggle("active");const e=localStorage.getItem("token");try{const t=await K.Z.addAndRemoveToFavorite(e,s.id,`${s.isFavorite}`);!0===t.data?console.log("Операція успішна",t):t.error&&t.error.message&&"You need to login before continue"===t.error.message?M().toast({html:"Ви не авторизовані"}):console.error("Отримана неочікувана відповідь з сервера:",t)}catch(a){console.error("Помилка при додаванні або видаленні з улюблених:",a)}},async toggleDropdown(s){console.log("Toggle dropdown called with:",s),this.dropdowns[s]=!this.dropdowns[s]},sortPodcasts(s){this.sortType=s,"title"===s?(console.log("Сортування по тайтл ",s),this.podcasts.sort(((s,t)=>s.title.localeCompare(t.title)))):"rating"===s?(console.log("Сортування по рейтингу ",s),this.podcasts.sort(((s,t)=>t.rating-s.rating))):"default"===s&&(console.log("Сортування за замовчуванням"),this.podcasts=JSON.parse(JSON.stringify(this.initialPodcasts)),this.podcasts.forEach((s=>s.isVisible=!0)))},filterByPriceType(s){this.selectedCategory="all","all"===s?(this.podcasts.forEach((s=>s.isVisible=!0)),this.selectedFilterPrice="Всі подкасти"):"free"!==s&&"paid"!==s||(this.podcasts.forEach((t=>{t.categories[0].category_type===s?t.isVisible=!0:t.isVisible=!1})),this.selectedFilterPrice="free"===s?"Безкоштовні":"Платні")},filterPodcasts(s){this.selectedCategory=s,this.applyFilters()},filteredPodcasts(s){return this.podcasts.filter((t=>t.categories[0].name===s&&t.isVisible))},applyFilters(){this.podcasts.forEach((s=>{"all"!==this.selectedCategory&&s.categories[0].name!==this.selectedCategory||"Всі подкасти"!==this.selectedFilterPrice&&s.categories[0].category_type!==("Безкоштовні"===this.selectedFilterPrice?"free":"paid")?s.isVisible=!1:s.isVisible=!0}))},truncateTitle(s){return s.length>14?s.substring(0,14)+"...":s}},async created(){this.loading=!0;const s=localStorage.getItem("token"),t=await K.Z.getFavoritePodcasts(s),e=t.data?t.data.map((s=>s.id)):[];console.log(e);const a=await K.Z.AllPodcastPage();if(a&&a.data&&a.data.data){this.podcasts=a.data.data.map((s=>({...s,isVisible:!0,isFavorite:e.includes(s.id)}))),console.log(this.podcasts),this.initialPodcasts=JSON.parse(JSON.stringify(a.data.data));const s=await K.Z.allCategories();this.allcategories=s.data.data,console.log(this.allcategories),this.sortPodcasts(this.sortType)}}},j=e(89);const L=(0,j.Z)(R,[["render",I]]);var q=L}}]);
//# sourceMappingURL=375.59b68582.js.map