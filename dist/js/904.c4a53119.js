"use strict";(self["webpackChunkvue_losev_frontend"]=self["webpackChunkvue_losev_frontend"]||[]).push([[904],{8904:function(t,a,s){s.r(a),s.d(a,{default:function(){return P}});var e=s(3396),o=s(7139);const c=(0,e._)("div",{class:"page_title"},[(0,e._)("p",null," Збереження ")],-1),l={class:"block_content_podcast"},i={class:"positions_in_block"},n={class:"upper_tittle"},r={class:"context"},d=(0,e._)("svg",{class:"play-icon",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512"},[(0,e._)("path",{class:"play-path",d:"M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9V344c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z"})],-1),g=[d],u={class:"info_podcast"},_={class:"title_podcast"},p={class:"author_podcast"},v=(0,e._)("span",{class:"time_podcast"}," 55:15 ",-1),h={class:"under_title"},k={class:"rating_and_categories"},b={class:"podcast-rating"},y={class:"categories_podcast"},w=["onClick"];function m(t,a,s,d,m,C){return(0,e.wg)(),(0,e.iD)(e.HY,null,[c,(0,e._)("div",l,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(m.podcasts,(t=>((0,e.wg)(),(0,e.iD)("div",{key:t.id,class:(0,o.C_)(["podcast",`id_${t.id}`]),style:(0,o.j5)({backgroundImage:`url(${t.image_url})`,backgroundRepeat:"no-repeat",backgroundPosition:"center"})},[(0,e._)("div",i,[(0,e._)("div",n,[(0,e._)("div",r,[(0,e._)("button",{class:"play-button","aria-label":"Play podcast",onClick:a[0]||(a[0]=(...t)=>C.handlePlayButtonClick&&C.handlePlayButtonClick(...t))},g),(0,e._)("div",u,[(0,e._)("span",_,(0,o.zw)(C.truncateTitle(t.title)),1),(0,e._)("span",p,(0,o.zw)(t.author),1)])]),v]),(0,e._)("div",h,[(0,e._)("div",k,[(0,e._)("div",b,(0,o.zw)(t.rating),1),(0,e._)("span",y,(0,o.zw)(t.categories[0].name),1)]),(0,e._)("button",{class:(0,o.C_)(["heart-button",t.isFavorite?"active":""]),"aria-label":"favorite",onClick:a=>C.handleHeartButtonClick(t,a)},null,10,w)])])],6)))),128))])],64)}var C=s(3258),z={name:"MyFavoritePodcastPage",data(){return{podcasts:[],loading:!1}},methods:{async handleHeartButtonClick(t,a){t.isFavorite=!t.isFavorite,console.log(t.isFavorite),a.target.classList.toggle("active");const s=localStorage.getItem("token");try{const a=await C.Z.addAndRemoveToFavorite(s,t.id,`${t.isFavorite}`);!0===a.data?console.log("Операція успішна",a):console.error("Отримана неочікувана відповідь з сервера:",a)}catch(e){console.error("Помилка при додаванні або видаленні з улюблених:",e)}},handlePlayButtonClick(t){let a=t.target.closest(".positions_in_block");a.classList.toggle("active");let s=t.target.closest(".podcast");s.classList.toggle("active");const e=s.querySelector(".context");e.classList.toggle("reversed");const o=s.querySelector(".play-button");o.classList.toggle("expanded");let c=t.target.querySelector(".play-path");c&&(a.classList.contains("active")?c.setAttribute("d","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM224 192V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7 14.3-32 32-32s32 14.3 32 32z"):c.setAttribute("d","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9V344c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z"))},truncateTitle(t){return t.length>14?t.substring(0,14)+"...":t}},async created(){this.loading=!0;const t=localStorage.getItem("token"),a=await C.Z.getFavoritePodcasts(t);a&&a.data&&(this.podcasts=a.data.map((t=>({...t,isFavorite:!0}))),console.log(this.podcasts))}},f=s(89);const F=(0,f.Z)(z,[["render",m]]);var P=F}}]);
//# sourceMappingURL=904.c4a53119.js.map