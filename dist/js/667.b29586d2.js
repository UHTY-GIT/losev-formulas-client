"use strict";(self["webpackChunkvue_losev_frontend"]=self["webpackChunkvue_losev_frontend"]||[]).push([[667],{667:function(s,e,a){a.r(e),a.d(e,{default:function(){return X}});var i=a(3396),l=a(9242),o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAErSURBVHgB3Za/agJBEMY/Q1IkEMgb5AikTSBdrAQrn0GUEx9CQRHRXh9JrC1UUBAbrW0EOwv/DN6ct5zn7eytjX7wg2OYmY+93Zs9IJBL9Ig9cdAwIcowVCfUZBeDmjciPiQGLhcsiRxkShMLrmtKCvqcnIeZHHivdk286ZL9pSfRlGs/45KeYKeVJMnWRKS7MNlGxP4RcUptNj5LNEKxIfer38okSiWl58noWVBUJL5gpjHxS7ThTYnYlfxAP8e0pBSDFK6vJPZji1CB+Obnhm4lSaTuScUP2pj8EdVQbMb9amrQxqSHy9nlEBk1SXK6TLVkznqs2WVzst6lif7mSa9eXw7XbSTJLoI7vgCZMgju+K6wBi0kGxkD4hUGchH8VOiYw/tLeZE0PgJL7n/Pa1vJTAAAAABJRU5ErkJggg==";const r=(0,i._)("div",{class:"page_title"},[(0,i._)("p",null," Мій профіль ")],-1),n={class:"profile-content"},t={class:"logout-section"},d=(0,i._)("img",{src:o,alt:"Edit Button"},null,-1),v=(0,i._)("span",{class:"edit-link"},"Вийти з аккаунту",-1),u=[d,v];function w(s,e,a,o,d,v){const w=(0,i.up)("ProfileNameForm"),A=(0,i.up)("ProfilePasswordForm");return(0,i.wg)(),(0,i.iD)(i.HY,null,[r,(0,i._)("div",n,[(0,i.Wm)(w),(0,i.Wm)(A),(0,i._)("div",t,[(0,i._)("a",{href:"#",onClick:e[0]||(e[0]=(0,l.iM)(((...s)=>v.logout&&v.logout(...s)),["prevent"])),class:"logout-link"},u)])])],64)}a(7658);var A=a(7139),m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH0SURBVHgBrZU7SBxRFIb/JFulyIOQNIFkiiRNCKkCESxEK0VFRRsRH4i1CjYi4oqNvYWigiI2YmMlWIiKoCB2ovhEBREsfKOF4uM/zhn37u44u3fYA9/evWfOPf/c1xkgs+aQGXJDdkk7MmzfNfFDAk2vjKCPpIb8I+/TSHpJWske+Qx3Br+130AKSSM58AbkklOft0hFGXlDlrR/Qn5ozhL1HUXgruMUiehbjJNrpLYzMkH6dPYyppRsa84ejZuUnyFV3CAfYGdRxGZVoz4Hsb2RVvbqSVkcBbCzDkOgTX3fEgQcL/hWnTlI30yBqPpkFXb8BMKI1BoCneqTU7qgPjlAvxIH2YhkkXuNHzT8vYZwNnkXVuQP3LshsbOGv9sQqIK7TOdk2lZEBu5r3Bpil9XcG6+E5Gl/x0bEQfyJ+aL+FiRvfmiRdcTf8ma4ZcPrdyXEW4v8NJJNILmsjPiMSRJ5jWCr0HYRbi0yk86TaqRhkRTPK7WVkjOD2Gw3STEs7KXl+gv/yitiTkC+pOUKmsmF8f+O9JMxMgdLCxKR4yol/D8ZhVvaQ5mIyO38RN76PF9WbMy7qMeeQ07Xiv4vQmasXNtVzyHVMx/69aINkwFyCHv7SupIvfalEm+ZAVHYf9+DiL70JrVwj2fYxFeIv0vP9ggcK9EjIdSTZwAAAABJRU5ErkJggg==";const c={class:"input-field my_profile_input"},g=(0,i._)("label",{for:"name"},"Ім'я",-1),p={key:0,class:"helper-text invalid"},f=(0,i._)("button",{class:"name-edit",type:"submit"},[(0,i._)("img",{src:m,alt:"Edit Button"}),(0,i._)("span",{class:"edit-link"},"Змінити ім’я")],-1);function P(s,e,a,o,r,n){return(0,i.wg)(),(0,i.iD)("form",{class:"form name-update-form",onSubmit:e[1]||(e[1]=(0,l.iM)(((...s)=>o.submitUserName&&o.submitUserName(...s)),["prevent"]))},[(0,i._)("div",c,[(0,i.wy)((0,i._)("input",{id:"name",type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>o.name=s),class:(0,A.C_)({invalid:o.v$.name.$dirty&&o.v$.name.required.$invalid,validate:o.v$.name.$dirty&&!o.v$.name.required.$invalid})},null,2),[[l.nr,o.name,void 0,{trim:!0}]]),g,o.v$.name.$dirty&&o.v$.name.required.$invalid?((0,i.wg)(),(0,i.iD)("small",p,"Введіть ваше ім'я")):(0,i.kq)("",!0)]),f],32)}var k=a(4870),$=a(4219),y=a(5420),h={setup(){const s=(0,k.iH)(""),e=(0,$.ZP)(),a=async()=>{if(e.value.$invalid)return e.value.$touch(),void console.log("click to submitUserName");const a={name:s.value};console.log(a)};return{v$:e,submitUserName:a,name:s}},validations(){return{name:{required:y.C1}}}},b=a(89);const C=(0,b.Z)(h,[["render",P]]);var _=C;const U={class:"input-field my_profile_input"},B=["type"],E=(0,i._)("label",{for:"old-password"},"Старий пароль",-1),I={key:0,class:"helper-text invalid"},R={class:"input-field my_profile_input"},S=["type"],N=(0,i._)("label",{for:"new-password"},"Новий пароль",-1),V={key:0,class:"helper-text invalid"},Y={key:1,class:"helper-text invalid"},x=(0,i._)("button",{class:"name-edit",type:"submit"},[(0,i._)("img",{src:m,alt:"Edit Button"}),(0,i._)("span",{class:"edit-link"},"Змінити пароль")],-1);function H(s,e,a,o,r,n){return(0,i.wg)(),(0,i.iD)("form",{class:"form password-update-form",onSubmit:e[4]||(e[4]=(0,l.iM)(((...s)=>o.submitUserPassword&&o.submitUserPassword(...s)),["prevent"]))},[(0,i._)("div",U,[(0,i.wy)((0,i._)("input",{id:"old-password",type:o.isOldPasswordVisible?"text":"password","onUpdate:modelValue":e[0]||(e[0]=s=>o.password=s),class:(0,A.C_)({invalid:o.v$.password.$dirty&&o.v$.password.required.$invalid,validate:o.v$.password.$dirty&&!o.v$.password.required.$invalid})},null,10,B),[[l.YZ,o.password,void 0,{trim:!0}]]),E,o.v$.password.$dirty&&o.v$.password.required.$invalid?((0,i.wg)(),(0,i.iD)("small",I,"Введіть старий пароль")):(0,i.kq)("",!0),(0,i._)("i",{class:(0,A.C_)(["toggle-password user-page-password",o.OldPasswordIconClass]),onClick:e[1]||(e[1]=(...s)=>o.OldTogglePassword&&o.OldTogglePassword(...s))},null,2)]),(0,i._)("div",R,[(0,i.wy)((0,i._)("input",{id:"new-password",type:o.isNewPasswordVisible?"text":"password","onUpdate:modelValue":e[2]||(e[2]=s=>o.newPassword=s),class:(0,A.C_)({invalid:o.v$.newPassword.$dirty&&o.v$.newPassword.required.$invalid||o.v$.newPassword.$dirty&&!o.v$.newPassword.minLength.$invalid,validate:o.v$.newPassword.$dirty&&!o.v$.newPassword.required.$invalid&&!o.v$.newPassword.minLength.$invalid})},null,10,S),[[l.YZ,o.newPassword,void 0,{trim:!0}]]),N,o.v$.newPassword.$dirty&&o.v$.newPassword.required.$invalid?((0,i.wg)(),(0,i.iD)("small",V,"Введіть новий пароль")):o.v$.newPassword.$dirty&&o.v$.newPassword.minLength.$invalid?((0,i.wg)(),(0,i.iD)("small",Y,"Новий пароль повинен бути мінімум "+(0,A.zw)(o.v$.newPassword.minLength.$params.min)+" символів. Зараз він "+(0,A.zw)(o.newPassword.length),1)):(0,i.kq)("",!0),(0,i._)("i",{class:(0,A.C_)(["toggle-password user-page-password",o.NewPasswordIconClass]),onClick:e[3]||(e[3]=(...s)=>o.NewTogglePassword&&o.NewTogglePassword(...s))},null,2)]),x],32)}var Z=a(5797),T=a.n(Z),q=a(3258),L=a(2483),M={setup(){const s=(0,k.iH)(""),e=(0,k.iH)(""),a=(0,$.ZP)(),i=(0,L.tv)(),l=async()=>{if(a.value.$invalid)return a.value.$touch(),void console.log("click to submitUserPassword");const l=localStorage.getItem("token");if(!l)return console.log("Токен не знайдений. Перенаправлення на сторінку входу."),void i.push("/login");const o=s.value,r=e.value;try{const s=await q.Z.changeUserPassword(l,o,r);T().toast({html:"Пароль успішно змінено"}),console.log("Пароль успішно змінено:",s)}catch(n){T().toast({html:"[Помилка]: Пароль змінити не вдалося"}),console.log("Помилка при зміні паролю:",n)}},o=(0,k.iH)(!1),r=(0,k.iH)("fas fa-eye-slash"),n=()=>{o.value=!o.value,o.value?r.value="fas fa-eye":r.value="fas fa-eye-slash"},t=(0,k.iH)(!1),d=(0,k.iH)("fas fa-eye-slash"),v=()=>{t.value=!t.value,t.value?d.value="fas fa-eye":d.value="fas fa-eye-slash"};return{v$:a,submitUserPassword:l,OldTogglePassword:n,NewTogglePassword:v,isOldPasswordVisible:o,isNewPasswordVisible:t,OldPasswordIconClass:r,NewPasswordIconClass:d,password:s,newPassword:e}},validations(){return{password:{required:y.C1},newPassword:{required:y.C1,minLength:(0,y.Ei)(6)}}}};const O=(0,b.Z)(M,[["render",H]]);var J=O,K={name:"ProfilePage",components:{ProfileNameForm:_,ProfilePasswordForm:J},methods:{async logout(){const s=localStorage.getItem("token");console.log("remove "+s),s?(await q.Z.logoutUser(s),localStorage.removeItem("token"),this.$router.push("/login?message=logout")):(console.log("Токен не знайдений. Перенаправлення на сторінку входу."),this.$router.push("/login"))}}};const Q=(0,b.Z)(K,[["render",w]]);var X=Q}}]);
//# sourceMappingURL=667.b29586d2.js.map