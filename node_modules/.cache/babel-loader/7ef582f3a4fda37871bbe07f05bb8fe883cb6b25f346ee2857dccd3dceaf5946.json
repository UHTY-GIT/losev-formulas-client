{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, vShow as _vShow, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"page_title\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, \" Категорії \")], -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"all-podcast-block\"\n};\nconst _hoisted_3 = {\n  class: \"dropdown-container\"\n};\nconst _hoisted_4 = {\n  class: \"dropdown\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"span\", null, \"Сортування:\", -1 /* HOISTED */);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"left-bar\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"right-bar\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_8 = [_hoisted_6, _hoisted_7];\nconst _hoisted_9 = {\n  class: \"dropdown-content\"\n};\nconst _hoisted_10 = {\n  class: \"dropdown\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"span\", null, \"Фільтр:\", -1 /* HOISTED */);\nconst _hoisted_12 = {\n  class: \"selected-item-filter\"\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"left-bar\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"right-bar\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_15 = [_hoisted_13, _hoisted_14];\nconst _hoisted_16 = {\n  class: \"dropdown-content dropdown-filter\"\n};\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"all-categories-block\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", null, \" всі подкасти \"), /*#__PURE__*/_createElementVNode(\"span\", null, \" Самознавство \"), /*#__PURE__*/_createElementVNode(\"span\", null, \" Психологія Людини \")], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"div\", {\n    class: \"selected-item-name\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.toggleDropdown('name'))\n  }, [_createElementVNode(\"span\", null, _toDisplayString($data.sortDisplayNames[$data.sortType]), 1 /* TEXT */), _createElementVNode(\"a\", {\n    class: _normalizeClass(['arrow-icon', {\n      'open': $data.dropdowns.name\n    }])\n  }, _hoisted_8, 2 /* CLASS */)]), _withDirectives(_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[1] || (_cache[1] = $event => $options.sortPodcasts('default'))\n  }, \"За замовчуванням\"), _createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[2] || (_cache[2] = $event => $options.sortPodcasts('title'))\n  }, \"За назвою\"), _createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[3] || (_cache[3] = $event => $options.sortPodcasts('rating'))\n  }, \"За популярністю\")], 512 /* NEED_PATCH */), [[_vShow, $data.dropdowns.name]])]), _createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _createElementVNode(\"div\", {\n    class: \"selected-item-category\",\n    onClick: _cache[4] || (_cache[4] = $event => $options.toggleDropdown('filterPrice'))\n  }, [_createElementVNode(\"span\", _hoisted_12, _toDisplayString($data.selectedFilterPrice), 1 /* TEXT */), _createElementVNode(\"a\", {\n    class: _normalizeClass(['arrow-icon', {\n      'open': $data.dropdowns.filterPrice\n    }])\n  }, _hoisted_15, 2 /* CLASS */)]), _withDirectives(_createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[5] || (_cache[5] = $event => $options.filterByPriceType('all'))\n  }, \"Всі подкасти\"), _createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[6] || (_cache[6] = $event => $options.filterByPriceType('free'))\n  }, \"Безкоштовні\"), _createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[7] || (_cache[7] = $event => $options.filterByPriceType('paid'))\n  }, \"Платні\")], 512 /* NEED_PATCH */), [[_vShow, $data.dropdowns.filterPrice]])]), _createCommentVNode(\"      <div class=\\\"dropdown\\\">\"), _createCommentVNode(\"        <span>Фільтр:</span>\"), _createCommentVNode(\"        <div class=\\\"selected-item-category\\\" @click=\\\"toggleDropdown('category')\\\">\"), _createCommentVNode(\"          <span class=\\\"selected-item\\\">{{ selectedCategory }}</span>\"), _createCommentVNode(\"          <a :class=\\\"['arrow-icon', { 'open': dropdowns.category }]\\\">\"), _createCommentVNode(\"            <span class=\\\"left-bar\\\"></span>\"), _createCommentVNode(\"            <span class=\\\"right-bar\\\"></span>\"), _createCommentVNode(\"          </a>\"), _createCommentVNode(\"        </div>\"), _createCommentVNode(\"        <div class=\\\"dropdown-content dropdown-category\\\" v-show=\\\"dropdowns.category\\\">\"), _createCommentVNode(\"          <a href=\\\"#\\\" @click=\\\"filterPodcasts('all')\\\">Всі подкасти</a>\"), _createCommentVNode(\"          <a\"), _createCommentVNode(\"              v-for=\\\"category in allcategories\\\"\"), _createCommentVNode(\"              :key=\\\"category.name\\\"\"), _createCommentVNode(\"              href=\\\"#\\\"\"), _createCommentVNode(\"              @click=\\\"filterPodcasts(category.name)\\\"\"), _createCommentVNode(\"          >\"), _createCommentVNode(\"            {{ category.name }}\"), _createCommentVNode(\"          </a>\"), _createCommentVNode(\"        </div>\"), _createCommentVNode(\"      </div>\")]), _hoisted_17])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","class","_hoisted_6","_hoisted_7","_hoisted_13","_hoisted_14","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","onClick","_cache","$event","$options","toggleDropdown","_toDisplayString","$data","sortDisplayNames","sortType","_normalizeClass","dropdowns","name","_hoisted_9","href","sortPodcasts","_hoisted_10","_hoisted_11","_hoisted_12","selectedFilterPrice","filterPrice","_hoisted_16","filterByPriceType","_createCommentVNode","_hoisted_17"],"sources":["C:\\Users\\Denys\\WebstormProjects\\losev-formulas-client\\src\\views\\AllCategories.vue"],"sourcesContent":["<template>\r\n  <div class=\"page_title\">\r\n    <p>\r\n      Категорії\r\n    </p>\r\n  </div>\r\n  <div class=\"all-podcast-block\">\r\n    <div class=\"dropdown-container\">\r\n      <div class=\"dropdown\">\r\n        <span>Сортування:</span>\r\n        <div class=\"selected-item-name\" @click=\"toggleDropdown('name')\">\r\n          <span>{{ sortDisplayNames[sortType] }}</span>\r\n          <a :class=\"['arrow-icon', { 'open': dropdowns.name }]\">\r\n            <span class=\"left-bar\"></span>\r\n            <span class=\"right-bar\"></span>\r\n          </a>\r\n        </div>\r\n        <div class=\"dropdown-content\" v-show=\"dropdowns.name\">\r\n          <a href=\"#\" @click=\"sortPodcasts('default')\">За замовчуванням</a>\r\n          <a href=\"#\" @click=\"sortPodcasts('title')\">За назвою</a>\r\n          <a href=\"#\" @click=\"sortPodcasts('rating')\">За популярністю</a>\r\n        </div>\r\n      </div>\r\n      <div class=\"dropdown\">\r\n        <span>Фільтр:</span>\r\n        <div class=\"selected-item-category\" @click=\"toggleDropdown('filterPrice')\">\r\n          <span class=\"selected-item-filter\">{{ selectedFilterPrice }}</span>\r\n          <a :class=\"['arrow-icon', { 'open': dropdowns.filterPrice }]\">\r\n            <span class=\"left-bar\"></span>\r\n            <span class=\"right-bar\"></span>\r\n          </a>\r\n        </div>\r\n        <div class=\"dropdown-content dropdown-filter\" v-show=\"dropdowns.filterPrice\">\r\n          <a href=\"#\" @click=\"filterByPriceType('all')\">Всі подкасти</a>\r\n          <a href=\"#\" @click=\"filterByPriceType('free')\">Безкоштовні</a>\r\n          <a href=\"#\" @click=\"filterByPriceType('paid')\">Платні</a>\r\n        </div>\r\n      </div>\r\n<!--      <div class=\"dropdown\">-->\r\n<!--        <span>Фільтр:</span>-->\r\n<!--        <div class=\"selected-item-category\" @click=\"toggleDropdown('category')\">-->\r\n<!--          <span class=\"selected-item\">{{ selectedCategory }}</span>-->\r\n<!--          <a :class=\"['arrow-icon', { 'open': dropdowns.category }]\">-->\r\n<!--            <span class=\"left-bar\"></span>-->\r\n<!--            <span class=\"right-bar\"></span>-->\r\n<!--          </a>-->\r\n<!--        </div>-->\r\n<!--        <div class=\"dropdown-content dropdown-category\" v-show=\"dropdowns.category\">-->\r\n<!--          <a href=\"#\" @click=\"filterPodcasts('all')\">Всі подкасти</a>-->\r\n<!--          <a-->\r\n<!--              v-for=\"category in allcategories\"-->\r\n<!--              :key=\"category.name\"-->\r\n<!--              href=\"#\"-->\r\n<!--              @click=\"filterPodcasts(category.name)\"-->\r\n<!--          >-->\r\n<!--            {{ category.name }}-->\r\n<!--          </a>-->\r\n<!--        </div>-->\r\n<!--      </div>-->\r\n    </div>\r\n    <div class=\"all-categories-block\">\r\n      <span>\r\n        всі подкасти\r\n      </span>\r\n      <span>\r\n          Самознавство\r\n      </span>\r\n      <span>\r\n          Психологія Людини\r\n      </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport apiService from '@/services/apiService.js';\r\n\r\nexport default {\r\n  name: \"AllPodcastPage\",\r\n  data() {\r\n    return {\r\n      podcasts: [],\r\n      loading: false,\r\n      dropdowns: {\r\n        name: false,\r\n        filterPrice: false\r\n      },\r\n      sortType: 'default',\r\n      allcategories: [],\r\n      selectedFilterPrice: 'Всі подкасти',\r\n      sortDisplayNames: {\r\n        'default': 'За замовчуванням',\r\n        'title': 'За назвою',\r\n        'rating': 'За популярністю'\r\n      },\r\n      initialPodcasts: []\r\n    };\r\n  },\r\n  methods: {\r\n    async toggleDropdown(type) {\r\n      console.log(\"Toggle dropdown called with:\", type);\r\n      this.dropdowns[type] = !this.dropdowns[type];\r\n    },\r\n    // Сортування за рейтингом і назвою\r\n    sortPodcasts(type) {\r\n      this.sortType = type;\r\n      if (type === 'title') {\r\n        console.log(\"Сортування по тайтл \", type);\r\n        this.podcasts.sort((a, b) => a.title.localeCompare(b.title));\r\n      } else if (type === 'rating') {\r\n        console.log(\"Сортування по рейтингу \", type);\r\n        this.podcasts.sort((a, b) => b.rating - a.rating);  // assuming higher rating is better\r\n      } else if (type === 'default') {\r\n        console.log(\"Сортування за замовчуванням\");\r\n        this.podcasts = JSON.parse(JSON.stringify(this.initialPodcasts));\r\n        this.podcasts.forEach(p => p.isVisible = true);\r\n      }\r\n    },\r\n    // Фільтр по цінам з категорій\r\n    filterByPriceType(priceType) {\r\n      if (priceType === 'all') {\r\n        this.podcasts.forEach(p => p.isVisible = true);\r\n        this.selectedFilterPrice = 'Всі подкасти';\r\n      } else if (priceType === 'free' || priceType === 'paid') {\r\n        this.podcasts.forEach(podcast => {\r\n          if (podcast.categories[0].category_type === priceType) {\r\n            podcast.isVisible = true;\r\n          } else {\r\n            podcast.isVisible = false;\r\n          }\r\n        });\r\n        this.selectedFilterPrice = priceType === 'free' ? 'Безкоштовні' : 'Платні';\r\n      }\r\n    }\r\n    // Фільтр по категоріям\r\n    // filterPodcasts(categoryName) {\r\n    //   if (categoryName === 'all') {\r\n    //     this.podcasts.forEach(p => p.isVisible = true);\r\n    //     this.selectedCategory = 'Всі подкасти';  // Оновлюємо selectedCategory\r\n    //   } else {\r\n    //     this.podcasts.forEach(podcast => {\r\n    //       if (podcast.categories[0].name === categoryName) {\r\n    //         podcast.isVisible = true;\r\n    //       } else {\r\n    //         podcast.isVisible = false;\r\n    //       }\r\n    //     });\r\n    //     this.selectedCategory = categoryName;  // Оновлюємо selectedCategory\r\n    //   }\r\n    // }\r\n  },\r\n  async created() {\r\n    this.loading = true;\r\n\r\n    // отримання даних всіх подкастів\r\n    const responseAllPodcast = await apiService.AllPodcastPage();\r\n    // this.podcasts = responseAllPodcast.data.data;\r\n    this.podcasts = responseAllPodcast.data.data.map(podcast => ({ ...podcast, isVisible: true }));\r\n\r\n    console.log(this.podcasts);\r\n\r\n    // Зберігаємо первісний список\r\n    this.initialPodcasts = JSON.parse(JSON.stringify(responseAllPodcast.data.data));\r\n\r\n    // Отримання даних всіх категорій\r\n    // const responseCategories = await apiService.allCategories();\r\n    // this.allcategories = responseCategories.data.data;\r\n    //\r\n    // console.log(this.allcategories);\r\n\r\n    // Ініціалізація методу сортування\r\n    this.sortPodcasts(this.sortType);\r\n  }\r\n}\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}