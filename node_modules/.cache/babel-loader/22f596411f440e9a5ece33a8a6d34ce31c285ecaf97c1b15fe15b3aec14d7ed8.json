{"ast":null,"code":"import apiService from '@/services/apiService.js';\nexport default {\n  name: \"AllPodcastPage\",\n  data() {\n    return {\n      podcasts: [],\n      loading: false,\n      dropdowns: {\n        name: false,\n        filterPrice: false\n      },\n      sortType: 'default',\n      allcategories: [],\n      selectedFilterPrice: 'Всі подкасти',\n      sortDisplayNames: {\n        'default': 'За замовчуванням',\n        'title': 'За назвою',\n        'rating': 'За популярністю'\n      },\n      initialPodcasts: []\n    };\n  },\n  methods: {\n    // Метод для анімації кнопки лайку на блоці постів\n    handleHeartButtonClick(podcast, event) {\n      podcast.isFavorite = !podcast.isFavorite;\n      console.log(\"console.log \" + podcast.isFavorite);\n      event.target.classList.toggle('active');\n\n      // Тут додаємо або видаляємо клас \"active\" для елементів з тим самим ID\n      if (DatafavoritePodcasts.includes(podcast.id)) {\n        this.podcasts.forEach(p => {\n          if (p.id === podcast.id) {\n            document.querySelector(`.id_${podcast.id}`).classList.add('active');\n          }\n        });\n      } else {\n        this.podcasts.forEach(p => {\n          if (p.id === podcast.id) {\n            document.querySelector(`.id_${podcast.id}`).classList.remove('active');\n          }\n        });\n      }\n      if (podcast.isFavorite) {\n        // Додавання до улюблених\n        const token = localStorage.getItem('token');\n        apiService.addToFavorite(token, podcast.id).then(response => {\n          console.log('Успішно додано до улюблених:', response);\n        }).catch(error => {\n          console.error('Помилка при додаванні до улюблених:', error);\n        });\n      }\n    },\n    // Метод для анімації кнопки плей у блоці підкастів\n    handlePlayButtonClick(event) {\n      let podcastBlock = event.target.closest('.positions_in_block');\n      podcastBlock.classList.toggle('active');\n      let podcastElement = event.target.closest('.podcast');\n      podcastElement.classList.toggle('active');\n      const contextElement = podcastElement.querySelector('.context');\n      contextElement.classList.toggle('reversed');\n      const PlayElement = podcastElement.querySelector('.play-button');\n      PlayElement.classList.toggle('expanded');\n      let playPath = event.target.querySelector('.play-path');\n      if (playPath) {\n        if (podcastBlock.classList.contains('active')) {\n          // Якщо відтворення, то змінюємо форму на \"pause\"\n          playPath.setAttribute('d', 'M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM224 192V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7 14.3-32 32-32s32 14.3 32 32z');\n        } else {\n          // Якщо пауза, то змінюємо форму на \"play\"\n          playPath.setAttribute('d', 'M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9V344c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z');\n        }\n      }\n    },\n    // Метод що відкриває випадаючий список\n    async toggleDropdown(type) {\n      console.log(\"Toggle dropdown called with:\", type);\n      this.dropdowns[type] = !this.dropdowns[type];\n    },\n    // Сортування за рейтингом і назвою\n    sortPodcasts(type) {\n      this.sortType = type;\n      if (type === 'title') {\n        console.log(\"Сортування по тайтл \", type);\n        this.podcasts.sort((a, b) => a.title.localeCompare(b.title));\n      } else if (type === 'rating') {\n        console.log(\"Сортування по рейтингу \", type);\n        this.podcasts.sort((a, b) => b.rating - a.rating); // assuming higher rating is better\n      } else if (type === 'default') {\n        console.log(\"Сортування за замовчуванням\");\n        this.podcasts = JSON.parse(JSON.stringify(this.initialPodcasts));\n        this.podcasts.forEach(p => p.isVisible = true);\n      }\n    },\n    // Фільтр по цінам з категорій\n    filterByPriceType(priceType) {\n      if (priceType === 'all') {\n        this.podcasts.forEach(p => p.isVisible = true);\n        this.selectedFilterPrice = 'Всі подкасти';\n      } else if (priceType === 'free' || priceType === 'paid') {\n        this.podcasts.forEach(podcast => {\n          if (podcast.categories[0].category_type === priceType) {\n            podcast.isVisible = true;\n          } else {\n            podcast.isVisible = false;\n          }\n        });\n        this.selectedFilterPrice = priceType === 'free' ? 'Безкоштовні' : 'Платні';\n      }\n    }\n  },\n  async created() {\n    this.loading = true;\n    const token = localStorage.getItem('token');\n\n    // // 1. Завантажити улюблені підкасти\n    // const favoritePodcastsResponse = await apiService.getFavoritePodcasts(token);\n    // const favoritePodcasts = favoritePodcastsResponse.data;\n    // const favoritePodcastIds = favoritePodcasts.map(podcast => podcast.id);\n    //\n    // // 2. Отримати дані всіх підкастів і визначити, які з них є улюбленими\n    // const responseAllPodcast = await apiService.AllPodcastPage();\n    // this.podcasts = responseAllPodcast.data.data.map(podcast => ({\n    //   ...podcast,\n    //   isVisible: true,\n    //   isFavorite: favoritePodcastIds.includes(podcast.id)\n    // }));\n\n    // Отримуємо улюблені подкасти\n    const favoritePodcastsResponse = await apiService.getFavoritePodcasts(token);\n    const DatafavoritePodcasts = favoritePodcastsResponse.data.map(podcast => podcast.id);\n    console.log(DatafavoritePodcasts);\n\n    // Отримуємо данні всіх подкастів\n    const responseAllPodcast = await apiService.AllPodcastPage();\n    //console.log(responseAllPodcast && responseAllPodcast.data && responseAllPodcast.data.data)\n\n    if (responseAllPodcast && responseAllPodcast.data && responseAllPodcast.data.data) {\n      this.podcasts = responseAllPodcast.data.data.map(podcast => {\n        console.log(DatafavoritePodcasts.includes(podcast.id));\n        return {\n          ...podcast,\n          isVisible: true,\n          isFavorite: DatafavoritePodcasts.includes(podcast.id) // assuming favoritePodcasts is an array of ids\n        };\n      });\n    }\n\n    // // отримання даних всіх подкастів\n    // const responseAllPodcast = await apiService.AllPodcastPage();\n    // // this.podcasts = responseAllPodcast.data.data;\n    // this.podcasts = responseAllPodcast.data.data.map(podcast => ({ ...podcast, isVisible: true }));\n    //\n    // console.log(this.podcasts);\n\n    // Зберігаємо первісний список\n    this.initialPodcasts = JSON.parse(JSON.stringify(responseAllPodcast.data.data));\n\n    // Ініціалізація методу сортування\n    this.sortPodcasts(this.sortType);\n  }\n};","map":{"version":3,"names":["apiService","name","data","podcasts","loading","dropdowns","filterPrice","sortType","allcategories","selectedFilterPrice","sortDisplayNames","initialPodcasts","methods","handleHeartButtonClick","podcast","event","isFavorite","console","log","target","classList","toggle","DatafavoritePodcasts","includes","id","forEach","p","document","querySelector","add","remove","token","localStorage","getItem","addToFavorite","then","response","catch","error","handlePlayButtonClick","podcastBlock","closest","podcastElement","contextElement","PlayElement","playPath","contains","setAttribute","toggleDropdown","type","sortPodcasts","sort","a","b","title","localeCompare","rating","JSON","parse","stringify","isVisible","filterByPriceType","priceType","categories","category_type","created","favoritePodcastsResponse","getFavoritePodcasts","map","responseAllPodcast","AllPodcastPage"],"sources":["C:\\Users\\Denys\\WebstormProjects\\losev-formulas-client\\src\\views\\AllPodcast.vue"],"sourcesContent":["<template>\r\n  <div class=\"page_title\">\r\n    <p>\r\n      Всі подкасти\r\n    </p>\r\n  </div>\r\n  <div class=\"all-podcast-block\">\r\n    <div class=\"dropdown-container\">\r\n      <div class=\"dropdown\">\r\n        <span>Сортування:</span>\r\n        <div class=\"selected-item-name\" @click=\"toggleDropdown('name')\">\r\n          <span>{{ sortDisplayNames[sortType] }}</span>\r\n          <a :class=\"['arrow-icon', { 'open': dropdowns.name }]\">\r\n            <span class=\"left-bar\"></span>\r\n            <span class=\"right-bar\"></span>\r\n\t\t\t\t\t</a>\r\n        </div>\r\n        <div class=\"dropdown-content\" v-show=\"dropdowns.name\">\r\n          <a href=\"#\" @click=\"sortPodcasts('default')\">За замовчуванням</a>\r\n          <a href=\"#\" @click=\"sortPodcasts('title')\">За назвою</a>\r\n          <a href=\"#\" @click=\"sortPodcasts('rating')\">За популярністю</a>\r\n        </div>\r\n      </div>\r\n      <div class=\"dropdown\">\r\n        <span>Фільтр:</span>\r\n        <div class=\"selected-item-category\" @click=\"toggleDropdown('filterPrice')\">\r\n          <span class=\"selected-item-filter\">{{ selectedFilterPrice }}</span>\r\n          <a :class=\"['arrow-icon', { 'open': dropdowns.filterPrice }]\">\r\n            <span class=\"left-bar\"></span>\r\n            <span class=\"right-bar\"></span>\r\n          </a>\r\n        </div>\r\n        <div class=\"dropdown-content dropdown-filter\" v-show=\"dropdowns.filterPrice\">\r\n          <a href=\"#\" @click=\"filterByPriceType('all')\">Всі подкасти</a>\r\n          <a href=\"#\" @click=\"filterByPriceType('free')\">Безкоштовні</a>\r\n          <a href=\"#\" @click=\"filterByPriceType('paid')\">Платні</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"block_content_podcast\">\r\n      <div\r\n          v-for=\"podcast in podcasts\"\r\n          :key=\"podcast.id\"\r\n          :class=\"['podcast', `id_${podcast.id}`]\"\r\n          :style=\"{ backgroundImage: `url(${podcast.image_url})`, backgroundRepeat: 'no-repeat', backgroundPosition: 'center' }\"\r\n          v-show=\"podcast.isVisible\"\r\n      >\r\n        <div class=\"positions_in_block\">\r\n          <div class=\"upper_tittle\">\r\n            <div class=\"context\">\r\n              <button class=\"play-button\" aria-label=\"Play podcast\" @click=\"handlePlayButtonClick\">\r\n                <svg class=\"play-icon\" xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 512 512\">\r\n                  <path class=\"play-path\" d=\"M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9V344c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z\"/>\r\n                </svg>\r\n              </button>\r\n              <div class=\"info_podcast\">\r\n                  <span class=\"title_podcast\">\r\n                    {{ podcast.title }}\r\n                  </span>\r\n                <span class=\"author_podcast\">\r\n                    {{ podcast.author }}\r\n                  </span>\r\n              </div>\r\n            </div>\r\n            <span class=\"time_podcast\">\r\n                55:15\r\n              </span>\r\n          </div>\r\n          <div class=\"under_title\">\r\n            <div class=\"rating_and_categories\">\r\n              <div class=\"podcast-rating\">3</div>\r\n              <span class=\"categories_podcast\">{{ podcast.categories[0].name }}</span>\r\n            </div>\r\n            <button\r\n                :class=\"['heart-button', podcast.isFavorite ? 'active' : '']\"\r\n                aria-label=\"favorite\"\r\n                @click=\"handleHeartButtonClick(podcast, $event)\"\r\n            ></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport apiService from '@/services/apiService.js';\r\n\r\nexport default {\r\n  name: \"AllPodcastPage\",\r\n  data() {\r\n    return {\r\n      podcasts: [],\r\n      loading: false,\r\n      dropdowns: {\r\n        name: false,\r\n        filterPrice: false\r\n      },\r\n      sortType: 'default',\r\n      allcategories: [],\r\n      selectedFilterPrice: 'Всі подкасти',\r\n      sortDisplayNames: {\r\n        'default': 'За замовчуванням',\r\n        'title': 'За назвою',\r\n        'rating': 'За популярністю'\r\n      },\r\n      initialPodcasts: []\r\n    };\r\n  },\r\n  methods: {\r\n    // Метод для анімації кнопки лайку на блоці постів\r\n    handleHeartButtonClick(podcast, event) {\r\n\r\n      podcast.isFavorite = !podcast.isFavorite;\r\n      console.log(\"console.log \"+ podcast.isFavorite)\r\n      event.target.classList.toggle('active');\r\n\r\n      // Тут додаємо або видаляємо клас \"active\" для елементів з тим самим ID\r\n      if (DatafavoritePodcasts.includes(podcast.id)) {\r\n        this.podcasts.forEach(p => {\r\n          if (p.id === podcast.id) {\r\n            document.querySelector(`.id_${podcast.id}`).classList.add('active');\r\n          }\r\n        });\r\n      } else {\r\n        this.podcasts.forEach(p => {\r\n          if (p.id === podcast.id) {\r\n            document.querySelector(`.id_${podcast.id}`).classList.remove('active');\r\n          }\r\n        });\r\n      }\r\n\r\n      if (podcast.isFavorite) {\r\n        // Додавання до улюблених\r\n        const token = localStorage.getItem('token');\r\n        apiService.addToFavorite(token, podcast.id)\r\n            .then(response => {\r\n              console.log('Успішно додано до улюблених:', response);\r\n            })\r\n            .catch(error => {\r\n              console.error('Помилка при додаванні до улюблених:', error);\r\n            });\r\n      }\r\n    },\r\n\r\n    // Метод для анімації кнопки плей у блоці підкастів\r\n    handlePlayButtonClick(event) {\r\n      let podcastBlock = event.target.closest('.positions_in_block');\r\n      podcastBlock.classList.toggle('active');\r\n\r\n      let podcastElement = event.target.closest('.podcast');\r\n      podcastElement.classList.toggle('active');\r\n\r\n      const contextElement = podcastElement.querySelector('.context');\r\n      contextElement.classList.toggle('reversed');\r\n\r\n      const PlayElement = podcastElement.querySelector('.play-button');\r\n      PlayElement.classList.toggle('expanded');\r\n\r\n      let playPath = event.target.querySelector('.play-path');\r\n      if (playPath) {\r\n        if (podcastBlock.classList.contains('active')) {\r\n          // Якщо відтворення, то змінюємо форму на \"pause\"\r\n          playPath.setAttribute('d', 'M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM224 192V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7 14.3-32 32-32s32 14.3 32 32z');\r\n        } else {\r\n          // Якщо пауза, то змінюємо форму на \"play\"\r\n          playPath.setAttribute('d', 'M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9V344c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z');\r\n        }\r\n      }\r\n    },\r\n\r\n    // Метод що відкриває випадаючий список\r\n    async toggleDropdown(type) {\r\n      console.log(\"Toggle dropdown called with:\", type);\r\n      this.dropdowns[type] = !this.dropdowns[type];\r\n    },\r\n    // Сортування за рейтингом і назвою\r\n    sortPodcasts(type) {\r\n      this.sortType = type;\r\n      if (type === 'title') {\r\n        console.log(\"Сортування по тайтл \", type);\r\n        this.podcasts.sort((a, b) => a.title.localeCompare(b.title));\r\n      } else if (type === 'rating') {\r\n        console.log(\"Сортування по рейтингу \", type);\r\n        this.podcasts.sort((a, b) => b.rating - a.rating);  // assuming higher rating is better\r\n      } else if (type === 'default') {\r\n        console.log(\"Сортування за замовчуванням\");\r\n        this.podcasts = JSON.parse(JSON.stringify(this.initialPodcasts));\r\n        this.podcasts.forEach(p => p.isVisible = true);\r\n      }\r\n    },\r\n    // Фільтр по цінам з категорій\r\n    filterByPriceType(priceType) {\r\n      if (priceType === 'all') {\r\n        this.podcasts.forEach(p => p.isVisible = true);\r\n        this.selectedFilterPrice = 'Всі подкасти';\r\n      } else if (priceType === 'free' || priceType === 'paid') {\r\n        this.podcasts.forEach(podcast => {\r\n          if (podcast.categories[0].category_type === priceType) {\r\n            podcast.isVisible = true;\r\n          } else {\r\n            podcast.isVisible = false;\r\n          }\r\n        });\r\n        this.selectedFilterPrice = priceType === 'free' ? 'Безкоштовні' : 'Платні';\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    this.loading = true;\r\n\r\n    const token = localStorage.getItem('token');\r\n\r\n    // // 1. Завантажити улюблені підкасти\r\n    // const favoritePodcastsResponse = await apiService.getFavoritePodcasts(token);\r\n    // const favoritePodcasts = favoritePodcastsResponse.data;\r\n    // const favoritePodcastIds = favoritePodcasts.map(podcast => podcast.id);\r\n    //\r\n    // // 2. Отримати дані всіх підкастів і визначити, які з них є улюбленими\r\n    // const responseAllPodcast = await apiService.AllPodcastPage();\r\n    // this.podcasts = responseAllPodcast.data.data.map(podcast => ({\r\n    //   ...podcast,\r\n    //   isVisible: true,\r\n    //   isFavorite: favoritePodcastIds.includes(podcast.id)\r\n    // }));\r\n\r\n    // Отримуємо улюблені подкасти\r\n    const favoritePodcastsResponse = await apiService.getFavoritePodcasts(token);\r\n    const DatafavoritePodcasts = favoritePodcastsResponse.data.map(podcast => podcast.id);\r\n    console.log(DatafavoritePodcasts)\r\n\r\n    // Отримуємо данні всіх подкастів\r\n    const responseAllPodcast = await apiService.AllPodcastPage();\r\n    //console.log(responseAllPodcast && responseAllPodcast.data && responseAllPodcast.data.data)\r\n\r\n    if(responseAllPodcast && responseAllPodcast.data && responseAllPodcast.data.data) {\r\n      this.podcasts = responseAllPodcast.data.data.map(podcast => {\r\n        console.log(DatafavoritePodcasts.includes(podcast.id))\r\n\r\n        return {\r\n          ...podcast,\r\n          isVisible: true,\r\n          isFavorite: DatafavoritePodcasts.includes(podcast.id) // assuming favoritePodcasts is an array of ids\r\n        };\r\n      });\r\n    }\r\n\r\n    // // отримання даних всіх подкастів\r\n    // const responseAllPodcast = await apiService.AllPodcastPage();\r\n    // // this.podcasts = responseAllPodcast.data.data;\r\n    // this.podcasts = responseAllPodcast.data.data.map(podcast => ({ ...podcast, isVisible: true }));\r\n    //\r\n    // console.log(this.podcasts);\r\n\r\n    // Зберігаємо первісний список\r\n    this.initialPodcasts = JSON.parse(JSON.stringify(responseAllPodcast.data.data));\r\n\r\n\r\n    // Ініціалізація методу сортування\r\n    this.sortPodcasts(this.sortType);\r\n  }\r\n}\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}