{"ast":null,"code":"import apiService from '@/services/apiService.js';\nexport default {\n  name: \"MyFavoritePodcastPage\",\n  data() {\n    return {\n      podcasts: [],\n      loading: false\n    };\n  },\n  methods: {\n    // Метод для анімації кнопки лайку на блоці постів\n    async handleHeartButtonClick(podcast, event) {\n      podcast.isFavorite = !podcast.isFavorite;\n      console.log(podcast.isFavorite);\n      event.target.classList.toggle('active');\n      const token = localStorage.getItem('token');\n      try {\n        const response = await apiService.addAndRemoveToFavorite(token, podcast.id, `${podcast.isFavorite}`);\n        if (response.data === true) {\n          console.log('Операція успішна', response);\n        } else {\n          console.error('Отримана неочікувана відповідь з сервера:', response);\n        }\n      } catch (error) {\n        console.error('Помилка при додаванні або видаленні з улюблених:', error);\n      }\n    },\n    // Метод для анімації кнопки плей у блоці підкастів\n    handlePlayButtonClick(event) {\n      let podcastBlock = event.target.closest('.positions_in_block');\n      podcastBlock.classList.toggle('active');\n      let podcastElement = event.target.closest('.podcast');\n      podcastElement.classList.toggle('active');\n      const contextElement = podcastElement.querySelector('.context');\n      contextElement.classList.toggle('reversed');\n      const PlayElement = podcastElement.querySelector('.play-button');\n      PlayElement.classList.toggle('expanded');\n      let playPath = event.target.querySelector('.play-path');\n      if (playPath) {\n        if (podcastBlock.classList.contains('active')) {\n          // Якщо відтворення, то змінюємо форму на \"pause\"\n          playPath.setAttribute('d', 'M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM224 192V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7 14.3-32 32-32s32 14.3 32 32z');\n        } else {\n          // Якщо пауза, то змінюємо форму на \"play\"\n          playPath.setAttribute('d', 'M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9V344c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z');\n        }\n      }\n    }\n  },\n  async created() {\n    this.loading = true;\n    const token = localStorage.getItem('token');\n    // отримання даних всіх подкастів\n    const responseFavoritePodcast = await apiService.getFavoritePodcasts(token);\n    if (responseFavoritePodcast && responseFavoritePodcast.data) {\n      // Додавання isFavorite=true для всіх подкастів\n      this.podcasts = responseFavoritePodcast.data.map(podcast => ({\n        ...podcast,\n        isFavorite: true\n      }));\n      console.log(this.podcasts);\n    }\n  }\n};","map":{"version":3,"names":["apiService","name","data","podcasts","loading","methods","handleHeartButtonClick","podcast","event","isFavorite","console","log","target","classList","toggle","token","localStorage","getItem","response","addAndRemoveToFavorite","id","error","handlePlayButtonClick","podcastBlock","closest","podcastElement","contextElement","querySelector","PlayElement","playPath","contains","setAttribute","created","responseFavoritePodcast","getFavoritePodcasts","map"],"sources":["C:\\Users\\Denys\\WebstormProjects\\losev-formulas-client\\src\\views\\MySaved.vue"],"sourcesContent":["<template>\r\n  <div class=\"page_title\">\r\n    <p>\r\n      Збереження\r\n    </p>\r\n  </div>\r\n  <div class=\"block_content_podcast\">\r\n    <div\r\n        v-for=\"podcast in podcasts\"\r\n        :key=\"podcast.id\"\r\n        :class=\"['podcast', `id_${podcast.id}`]\"\r\n        :style=\"{ backgroundImage: `url(${podcast.image_url})`, backgroundRepeat: 'no-repeat', backgroundPosition: 'center' }\"\r\n    >\r\n      <div class=\"positions_in_block\">\r\n        <div class=\"upper_tittle\">\r\n          <div class=\"context\">\r\n            <button class=\"play-button\" aria-label=\"Play podcast\" @click=\"handlePlayButtonClick\">\r\n              <svg class=\"play-icon\" xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 512 512\">\r\n                <path class=\"play-path\" d=\"M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9V344c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z\"/>\r\n              </svg>\r\n            </button>\r\n            <div class=\"info_podcast\">\r\n                  <span class=\"title_podcast\">\r\n                    {{ podcast.title }}\r\n                  </span>\r\n              <span class=\"author_podcast\">\r\n                    {{ podcast.author }}\r\n                  </span>\r\n            </div>\r\n          </div>\r\n          <span class=\"time_podcast\">\r\n                55:15\r\n              </span>\r\n        </div>\r\n        <div class=\"under_title\">\r\n          <div class=\"rating_and_categories\">\r\n            <div class=\"podcast-rating\">{{ podcast.rating }}</div>\r\n            <span class=\"categories_podcast\">{{ podcast.categories[0].name }}</span>\r\n          </div>\r\n          <button\r\n              :class=\"['heart-button', podcast.isFavorite ? 'active' : '']\"\r\n              aria-label=\"favorite\"\r\n              @click=\"handleHeartButtonClick(podcast, $event)\"\r\n          ></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport apiService from '@/services/apiService.js';\r\n\r\nexport default {\r\n  name: \"MyFavoritePodcastPage\",\r\n  data() {\r\n    return {\r\n      podcasts: [],\r\n      loading: false,\r\n    }\r\n  },\r\n  methods: {\r\n    // Метод для анімації кнопки лайку на блоці постів\r\n    async handleHeartButtonClick(podcast, event) {\r\n      podcast.isFavorite = !podcast.isFavorite;\r\n      console.log(podcast.isFavorite);\r\n\r\n      event.target.classList.toggle('active');\r\n\r\n      const token = localStorage.getItem('token');\r\n\r\n      try {\r\n        const response = await apiService.addAndRemoveToFavorite(token, podcast.id, `${podcast.isFavorite}`);\r\n\r\n        if(response.data === true) {\r\n          console.log('Операція успішна', response);\r\n        } else {\r\n          console.error('Отримана неочікувана відповідь з сервера:', response);\r\n        }\r\n      } catch (error) {\r\n        console.error('Помилка при додаванні або видаленні з улюблених:', error);\r\n      }\r\n    },\r\n    // Метод для анімації кнопки плей у блоці підкастів\r\n    handlePlayButtonClick(event) {\r\n      let podcastBlock = event.target.closest('.positions_in_block');\r\n      podcastBlock.classList.toggle('active');\r\n\r\n      let podcastElement = event.target.closest('.podcast');\r\n      podcastElement.classList.toggle('active');\r\n\r\n      const contextElement = podcastElement.querySelector('.context');\r\n      contextElement.classList.toggle('reversed');\r\n\r\n      const PlayElement = podcastElement.querySelector('.play-button');\r\n      PlayElement.classList.toggle('expanded');\r\n\r\n      let playPath = event.target.querySelector('.play-path');\r\n      if (playPath) {\r\n        if (podcastBlock.classList.contains('active')) {\r\n          // Якщо відтворення, то змінюємо форму на \"pause\"\r\n          playPath.setAttribute('d', 'M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM224 192V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0V320c0 17.7-14.3 32-32 32s-32-14.3-32-32V192c0-17.7 14.3-32 32-32s32 14.3 32 32z');\r\n        } else {\r\n          // Якщо пауза, то змінюємо форму на \"play\"\r\n          playPath.setAttribute('d', 'M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9V344c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z');\r\n        }\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    this.loading = true;\r\n\r\n    const token = localStorage.getItem('token');\r\n    // отримання даних всіх подкастів\r\n    const responseFavoritePodcast = await apiService.getFavoritePodcasts(token);\r\n\r\n    if (responseFavoritePodcast && responseFavoritePodcast.data) {\r\n      // Додавання isFavorite=true для всіх подкастів\r\n      this.podcasts = responseFavoritePodcast.data.map(podcast => ({\r\n        ...podcast,\r\n        isFavorite: true\r\n      }));\r\n      console.log(this.podcasts);\r\n    }\r\n  }\r\n}\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}