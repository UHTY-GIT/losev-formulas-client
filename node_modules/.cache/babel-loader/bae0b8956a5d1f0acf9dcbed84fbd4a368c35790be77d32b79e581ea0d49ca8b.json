{"ast":null,"code":"import { createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nimport _imports_0 from '@/assets/icons/menu-1.png';\nconst _hoisted_1 = {\n  class: \"menu-header\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"menu-icon\",\n  src: _imports_0,\n  alt: \"Menu icon\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"menu-ul\"\n};\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = [\"src\", \"alt\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"nav\", {\n    class: _normalizeClass([\"sidebar-menu\", {\n      small: _ctx.isSmall\n    }])\n  }, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.toggleSize && $options.toggleSize(...args), [\"prevent\"]))\n  }, [_hoisted_2, _withDirectives(_createElementVNode(\"span\", null, \"МЕНЮ\", 512 /* NEED_PATCH */), [[_vShow, !_ctx.isSmall]])])]), _createCommentVNode(\"    Видалив :exact=\\\"link.exact\\\" після :to=\\\"link.url бо матюкався Vue 3\\\"\"), _createElementVNode(\"ul\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.links, link => {\n    return _openBlock(), _createBlock(_component_router_link, {\n      key: link.url,\n      to: link.url,\n      \"active-class\": \"active\",\n      custom: \"\"\n    }, {\n      default: _withCtx(({\n        navigate,\n        isActive\n      }) => [link.isVisible ? (_openBlock(), _createElementBlock(\"li\", {\n        key: 0,\n        class: _normalizeClass([\"menu-item\", {\n          'active': isActive\n        }]),\n        onClick: navigate\n      }, [_createElementVNode(\"a\", null, [_createElementVNode(\"img\", {\n        class: \"menu-icon\",\n        src: link.icon,\n        alt: `${link.title} icon`\n      }, null, 8 /* PROPS */, _hoisted_5), _withDirectives(_createElementVNode(\"span\", null, _toDisplayString(link.title), 513 /* TEXT, NEED_PATCH */), [[_vShow, !_ctx.isSmall]])])], 10 /* CLASS, PROPS */, _hoisted_4)) : _createCommentVNode(\"v-if\", true)]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"]);\n  }), 128 /* KEYED_FRAGMENT */))])], 2 /* CLASS */);\n}","map":{"version":3,"names":["_imports_0","class","_createElementVNode","src","alt","_createElementBlock","_normalizeClass","small","_ctx","isSmall","_hoisted_1","href","onClick","_cache","_withModifiers","args","$options","toggleSize","_hoisted_2","_createCommentVNode","_hoisted_3","_Fragment","_renderList","links","link","_createBlock","_component_router_link","key","url","to","custom","navigate","isActive","isVisible","icon","title","_toDisplayString"],"sources":["C:\\Users\\Denys\\WebstormProjects\\losev-formulas-client\\src\\components\\app\\SideBar.vue"],"sourcesContent":["<template>\r\n  <nav class=\"sidebar-menu\" :class=\"{ small: isSmall }\">\r\n    <div class=\"menu-header\">\r\n      <a href=\"#\" @click.prevent=\"toggleSize\">\r\n        <img class=\"menu-icon\" src=\"@/assets/icons/menu-1.png\" alt=\"Menu icon\">\r\n        <span v-show=\"!isSmall\">МЕНЮ</span>\r\n      </a>\r\n    </div>\r\n<!--    Видалив :exact=\"link.exact\" після :to=\"link.url бо матюкався Vue 3\"-->\r\n    <ul class=\"menu-ul\">\r\n      <router-link\r\n          v-for=\"link in links\"\r\n          :key=\"link.url\"\r\n          :to=\"link.url\"\r\n\r\n          active-class=\"active\"\r\n          custom\r\n          v-slot=\"{ navigate, isActive }\"\r\n      >\r\n        <li\r\n            class=\"menu-item\"\r\n            :class=\"{ 'active': isActive }\"\r\n            @click=\"navigate\"\r\n            v-if=\"link.isVisible\"\r\n        >\r\n          <a>\r\n            <img class=\"menu-icon\" :src=\"link.icon\" :alt=\"`${link.title} icon`\">\r\n            <span v-show=\"!isSmall\">{{ link.title }}</span>\r\n          </a>\r\n        </li>\r\n      </router-link>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n<script>\r\nimport homeIcon from '@/assets/icons/home-1.png';\r\nimport allPodcastIcon from '@/assets/icons/all-podcast-1.png';\r\nimport mypodcastIcon from '@/assets/icons/my-podcast-1.png';\r\nimport mysavedIcon from '@/assets/icons/my-saved-1.png';\r\nimport categoriesIcon from '@/assets/icons/categories-1.png';\r\nimport apiService from '@/services/apiService';\r\n\r\nexport default {\r\n  data: () => ({\r\n    // Перевірка токену\r\n    //const isLoggedIn = localStorage.getItem('token');\r\n\r\n    // Визначення доступних посилань\r\n    // const baseLinks = [\r\n    //   {title: 'Головна', url: '/', icon: homeIcon},\r\n    //   {title: 'Всі подкасти', url: '/allpodcast', exact:true, icon: allPodcastIcon},\r\n    //   isLoggedIn ? {title: 'Мої подкасти', url: '/podcast', exact:true, icon: mypodcastIcon} : null,\r\n    //   isLoggedIn ? {title: 'Збереження', url: '/saved', exact:true, icon: mysavedIcon} : null,\r\n    //   {title: 'Категорії', url: '/categories', exact:true, icon: categoriesIcon},\r\n    // ];\r\n    //\r\n    // // Видалити всі значення null (для незалогінених користувачів)\r\n    // const filteredLinks = baseLinks.filter(Boolean);\r\n    //\r\n    // return {\r\n    //   links: filteredLinks,\r\n    //   isSmall: false\r\n    // };\r\n    isSmall: false,\r\n    links: [\r\n      { title: 'Головна', url: '/', icon: homeIcon, isVisible: true },\r\n      { title: 'Всі подкасти', url: '/allpodcast', exact: true, icon: allPodcastIcon, isVisible: true },\r\n      { title: 'Мої подкасти', url: '/podcast', exact: true, icon: mypodcastIcon, isVisible: false },\r\n      { title: 'Збереження', url: '/saved', exact: true, icon: mysavedIcon, isVisible: false },\r\n      { title: 'Категорії', url: '/categories', exact: true, icon: categoriesIcon, isVisible: true },\r\n    ],\r\n\r\n  }),\r\n  async created() {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return;\r\n\r\n    try {\r\n      const userProfile = await apiService.getUserProfile(token);\r\n      if (userProfile.error && userProfile.error.message === 'You need to login before continue') {\r\n        // Користувач не залогінений, приховуємо сторінки \"Мої подкасти\" і \"Збереження\"\r\n        this.links.find(link => link.title === 'Мої подкасти').isVisible = false;\r\n        this.links.find(link => link.title === 'Збереження').isVisible = false;\r\n      }\r\n    } catch (error) {\r\n      console.error('Помилка при отриманні профілю користувача:', error);\r\n    }\r\n  },\r\n  methods: {\r\n    toggleSize() {\r\n      this.isSmall = !this.isSmall;\r\n      //Надіслати подію батькові при перемиканні розміру\r\n      this.$emit('toggle-size', this.isSmall);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.sidebar-menu.small {\r\n  width: 70px;\r\n}\r\n.menu-ul {\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-wrap: nowrap;\r\n}\r\n.menu-header a {\r\n  padding: 15px 0 25px;\r\n  display: flex;\r\n  align-items: center;\r\n  align-content: center;\r\n  flex-wrap: nowrap;\r\n  flex-direction: row;\r\n}\r\n.menu-header a span {\r\n  line-height: 0;\r\n}\r\n</style>"],"mappings":";OAI+BA,UAA+B;;EAFrDC,KAAK,EAAC;AAAa;gCAEpBC,mBAAA,CAAuE;EAAlED,KAAK,EAAC,WAAW;EAACE,GAA+B,EAA/BH,UAA+B;EAACI,GAAG,EAAC;;;EAK3DH,KAAK,EAAC;AAAS;;;;;uBARrBI,mBAAA,CA+BM;IA/BDJ,KAAK,EAAAK,eAAA,EAAC,cAAc;MAAAC,KAAA,EAAkBC,IAAA,CAAAC;IAAO;MAChDP,mBAAA,CAKM,OALNQ,UAKM,GAJJR,mBAAA,CAGI;IAHDS,IAAI,EAAC,GAAG;IAAEC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;MACpCG,UAAuE,E,gBACvEhB,mBAAA,CAAmC,cAAX,MAAI,0B,UAAbM,IAAA,CAAAC,OAAO,E,OAG9BU,mBAAA,+EAA8E,EAC1EjB,mBAAA,CAsBK,MAtBLkB,UAsBK,I,kBArBHf,mBAAA,CAoBcgB,SAAA,QAAAC,WAAA,CAnBKd,IAAA,CAAAe,KAAK,EAAbC,IAAI;yBADfC,YAAA,CAoBcC,sBAAA;MAlBTC,GAAG,EAAEH,IAAI,CAACI,GAAG;MACbC,EAAE,EAAEL,IAAI,CAACI,GAAG;MAEb,cAAY,EAAC,QAAQ;MACrBE,MAAM,EAAN;;wBAGF,CAUK;QAZOC,QAAQ;QAAEC;MAAQ,OAMpBR,IAAI,CAACS,SAAS,I,cAJxB5B,mBAAA,CAUK;;QATDJ,KAAK,EAAAK,eAAA,EAAC,WAAW;UAAA,UACG0B;QAAQ;QAC3BpB,OAAK,EAAEmB;UAGV7B,mBAAA,CAGI,YAFFA,mBAAA,CAAoE;QAA/DD,KAAK,EAAC,WAAW;QAAEE,GAAG,EAAEqB,IAAI,CAACU,IAAI;QAAG9B,GAAG,KAAKoB,IAAI,CAACW,KAAK;2DAC3DjC,mBAAA,CAA+C,cAAAkC,gBAAA,CAApBZ,IAAI,CAACW,KAAK,iC,UAAtB3B,IAAA,CAAAC,OAAO,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}