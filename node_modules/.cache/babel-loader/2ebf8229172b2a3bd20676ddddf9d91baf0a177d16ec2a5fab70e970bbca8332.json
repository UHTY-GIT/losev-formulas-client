{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, createBlock as _createBlock } from \"vue\";\nimport _imports_0 from '@/assets/photo/logo-4-1.png';\nimport _imports_1 from '@/assets/icons/search-1.png';\nimport _imports_2 from '@/assets/icons/settings-1.png';\nconst _hoisted_1 = {\n  class: \"header_items\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"logotype\",\n  src: _imports_0,\n  alt: \"logotype\"\n})], -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"search\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"search-icon\",\n  src: _imports_1,\n  alt: \"search icon\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_5 = {\n  key: 0,\n  class: \"search-results\"\n};\nconst _hoisted_6 = {\n  class: \"autorizhate\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_2,\n  alt: \"settings\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_8 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"header\", null, [_createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchQuery = $event),\n    onInput: _cache[1] || (_cache[1] = (...args) => $options.searchPodcasts && $options.searchPodcasts(...args)),\n    placeholder: \"Пошук\"\n  }, null, 544 /* HYDRATE_EVENTS, NEED_PATCH */), [[_vModelText, $data.searchQuery, void 0, {\n    trim: true\n  }]]), _hoisted_4]), _createCommentVNode(\" Відображення результатів пошуку \"), $data.searchResults > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.searchResults, result => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: result.id\n    }, _toDisplayString(result.title) + \" by \" + _toDisplayString(result.author), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_router_link, {\n    to: \"/settings\"\n  }, {\n    default: _withCtx(() => [_hoisted_7]),\n    _: 1 /* STABLE */\n  }), $data.username ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 0,\n    to: \"/profile\",\n    class: \"username-account\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"img\", {\n      src: $data.userphoto,\n      alt: \"userphoto\"\n    }, null, 8 /* PROPS */, _hoisted_8), _createTextVNode(\" \" + _toDisplayString($data.username), 1 /* TEXT */)]),\n\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), !$data.username ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 1,\n    to: \"/login\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Login\")]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), !$data.username ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 2,\n    to: \"/register\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Sign up\")]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true)])])]);\n}","map":{"version":3,"names":["_imports_0","_imports_1","_imports_2","class","_createElementVNode","src","alt","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","type","$data","searchQuery","$event","onInput","_cache","args","$options","searchPodcasts","placeholder","_hoisted_4","_createCommentVNode","searchResults","_hoisted_5","_Fragment","_renderList","result","key","id","title","_toDisplayString","author","_hoisted_6","_createVNode","_component_router_link","to","_hoisted_7","username","_createBlock","userphoto"],"sources":["C:\\Users\\Denys\\WebstormProjects\\losev-formulas-client\\src\\components\\app\\NavBar.vue"],"sourcesContent":["<template>\r\n  <header>\r\n    <div class=\"header_items\">\r\n      <div>\r\n        <img class=\"logotype\" src=\"@/assets/photo/logo-4-1.png\" alt=\"logotype\">\r\n      </div>\r\n      <div class=\"search\">\r\n        <input type=\"text\" v-model.trim=\"searchQuery\" @input=\"searchPodcasts\" placeholder=\"Пошук\">\r\n        <img class=\"search-icon\" src=\"@/assets/icons/search-1.png\" alt=\"search icon\">\r\n      </div>\r\n      <!-- Відображення результатів пошуку -->\r\n      <div class=\"search-results\" v-if=\"searchResults > 0\">\r\n        <ul>\r\n          <li v-for=\"result in searchResults\" :key=\"result.id\">\r\n            {{ result.title }} by {{ result.author }}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"autorizhate\">\r\n        <router-link to=\"/settings\"><img src=\"@/assets/icons/settings-1.png\" alt=\"settings\"></router-link>\r\n        <router-link v-if=\"username\" to=\"/profile\" class=\"username-account\"><img :src=\"userphoto\" alt=\"userphoto\"> {{ username }}</router-link>\r\n        <router-link v-if=\"!username\" to=\"/login\">Login</router-link>\r\n        <router-link v-if=\"!username\" to=\"/register\">Sign up</router-link>\r\n      </div>\r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nimport apiService from '@/services/apiService';\r\nimport defaultUserPhoto from '@/assets/icons/user-photo-1.png';\r\n\r\nexport default {\r\n  name: 'NavBar',\r\n  data() {\r\n    return {\r\n      username: null,\r\n      userphoto: defaultUserPhoto,\r\n      searchQuery: '', // Реактивний стан для зберігання пошукового запиту\r\n      searchResults: [], // Реактивний стан для зберігання результатів пошуку\r\n    };\r\n  },\r\n  methods: {\r\n    async searchPodcasts() {\r\n      try {\r\n        const response = await apiService.searchPodcasts({ search: this.searchQuery }); // Опції пошуку передаються через об'єкт\r\n        this.searchResults = response.data.podcasts; // Оновлюємо результати пошуку зі списком подкастів\r\n        console.log(this.searchResults);\r\n        console.log(this.searchResults.length);\r\n      } catch (error) {\r\n        console.error('Під час пошуку сталася помилка: ', error);\r\n      }\r\n    },\r\n  },\r\n  async mounted() {\r\n    const token = localStorage.getItem('token');\r\n    console.log(token);\r\n    // перевіряємо чи є токен\r\n    if (token) {\r\n      const userProfile = await apiService.getUserProfile(token);\r\n      // Отримуємо дані такі як аватар і ім'я\r\n      if (userProfile && userProfile.data) {\r\n        this.username = userProfile.data.name;\r\n        this.userphoto = userProfile.data.avatar ? userProfile.data.avatar : defaultUserPhoto;\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.search-results {\r\n  display: block;\r\n  height: 200px;\r\n  width: 600px;\r\n  background-color: #FFFFFF;\r\n  color: #000000;\r\n}\r\n</style>"],"mappings":";OAI8BA,UAAiC;OAI9BC,UAAiC;OAWzBC,UAAmC;;EAjBnEC,KAAK,EAAC;AAAc;gCACvBC,mBAAA,CAEM,c,aADJA,mBAAA,CAAuE;EAAlED,KAAK,EAAC,UAAU;EAACE,GAAiC,EAAjCL,UAAiC;EAACM,GAAG,EAAC;;;EAEzDH,KAAK,EAAC;AAAQ;gCAEjBC,mBAAA,CAA6E;EAAxED,KAAK,EAAC,aAAa;EAACE,GAAiC,EAAjCJ,UAAiC;EAACK,GAAG,EAAC;;;;EAG5DH,KAAK,EAAC;;;EAONA,KAAK,EAAC;AAAa;gCACMC,mBAAA,CAAwD;EAAnDC,GAAmC,EAAnCH,UAAmC;EAACI,GAAG,EAAC;;;;;uBAlB/EC,mBAAA,CAwBS,iBAvBPH,mBAAA,CAsBM,OAtBNI,UAsBM,GArBJC,UAEM,EACNL,mBAAA,CAGM,OAHNM,UAGM,G,gBAFJN,mBAAA,CAA0F;IAAnFO,IAAI,EAAC,MAAM;+DAAeC,KAAA,CAAAC,WAAW,GAAAC,MAAA;IAAGC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,cAAA,IAAAD,QAAA,CAAAC,cAAA,IAAAF,IAAA,CAAc;IAAEG,WAAW,EAAC;iEAAjDR,KAAA,CAAAC,WAAW,E;UAAzB;EAA0B,E,IAC7CQ,UAA6E,C,GAE/EC,mBAAA,qCAAwC,EACNV,KAAA,CAAAW,aAAa,Q,cAA/ChB,mBAAA,CAMM,OANNiB,UAMM,GALJpB,mBAAA,CAIK,c,kBAHHG,mBAAA,CAEKkB,SAAA,QAAAC,WAAA,CAFgBd,KAAA,CAAAW,aAAa,EAAvBI,MAAM;yBAAjBpB,mBAAA,CAEK;MAFgCqB,GAAG,EAAED,MAAM,CAACE;wBAC5CF,MAAM,CAACG,KAAK,IAAG,MAAI,GAAAC,gBAAA,CAAGJ,MAAM,CAACK,MAAM;2EAI5C5B,mBAAA,CAKM,OALN6B,UAKM,GAJJC,YAAA,CAAkGC,sBAAA;IAArFC,EAAE,EAAC;EAAW;sBAAC,MAAwD,CAAxDC,UAAwD,C;;MACjEzB,KAAA,CAAA0B,QAAQ,I,cAA3BC,YAAA,CAAuIJ,sBAAA;;IAA1GC,EAAE,EAAC,UAAU;IAACjC,KAAK,EAAC;;sBAAmB,MAAsC,CAAtCC,mBAAA,CAAsC;MAAhCC,GAAG,EAAEO,KAAA,CAAA4B,SAAS;MAAElC,GAAG,EAAC;0DAAY,GAAC,GAAAyB,gBAAA,CAAGnB,KAAA,CAAA0B,QAAQ,iB;;;4CAClG1B,KAAA,CAAA0B,QAAQ,I,cAA5BC,YAAA,CAA6DJ,sBAAA;;IAA/BC,EAAE,EAAC;;sBAAS,MAAK,C,iBAAL,OAAK,E;;4CAC3BxB,KAAA,CAAA0B,QAAQ,I,cAA5BC,YAAA,CAAkEJ,sBAAA;;IAApCC,EAAE,EAAC;;sBAAY,MAAO,C,iBAAP,SAAO,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}